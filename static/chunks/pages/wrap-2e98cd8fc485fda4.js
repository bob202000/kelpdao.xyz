(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2059],{54719:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wrap",function(){return r(79899)}])},30734:function(e,n,r){"use strict";r.d(n,{Z:function(){return s}});var t=r(85893),i=r(82140),a=r(48948),l=r(32735),s=e=>{let{inputRightElement:n,value:r,onChange:s,error:o,disabled:d=!1}=e;return(0,t.jsxs)(i.B,{size:"lg",mt:"12px",children:[(0,t.jsx)(a.I,{type:"text",variant:"unstyled",placeholder:"0.0",borderRadius:"1rem",bg:"backgroundField",border:"1px solid",p:"24px",h:"96px",color:"textPrimary",fontWeight:"700",fontSize:"32px",lineHeight:"38px",value:r,isInvalid:!!o,onChange:e=>null==s?void 0:s(e.target.value),borderColor:o?"error":"backgroundDivider",_placeholder:{color:"textTertiary"},disabled:d}),n&&(0,t.jsx)(l.x,{my:"auto",h:"100%",mr:"1.5rem",w:"auto",children:n})]})}},79899:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return L}});var t=r(85893),i=r(4627),a=r(30508),l=r(46697),s=r(70853),o=r(93717),d=r(14225),u=r(57747),c=r(71293),p=r(27239),h=r(81136),x=r(30734),m=r(50389),f=r(8074),b=r(78001),v=r(13821),g=r(37241),y=r(30202),j=r(92321),k=r(12185),w=r(89810),I=()=>{let e=(0,y.NL)(),{isConnected:n,address:r}=(0,j.m)(),{swapConfig:t}=(0,g.Z)(),{rsETH:i,wrsETH:a}=t.tokens,{data:l,queryKey:s}=(0,k.K)({address:r,token:i.address,query:{enabled:n,refetchInterval:1e4},chainId:t.chain.id}),{data:o,queryKey:d}=(0,w.u)({address:i.address,abi:i.abi,functionName:"allowance",args:[r,a.address],query:{enabled:n,refetchInterval:1e4},chainId:t.chain.id}),{data:u,queryKey:c}=(0,k.K)({token:a.address,address:r,query:{enabled:n,refetchInterval:1e4},chainId:t.chain.id}),{data:p,queryKey:h}=(0,w.u)({address:a.address,abi:a.abi,functionName:"allowance",args:[r,a.address],query:{enabled:n,refetchInterval:1e4},chainId:t.chain.id});return{rsETHBalance:(null==l?void 0:l.value)||0n,wrsETHBalance:(null==u?void 0:u.value)||0n,rsETHAllowance:o||0n,wrsETHAllowance:p||0n,invalidateCache:()=>{e.invalidateQueries({queryKey:s}),e.invalidateQueries({queryKey:d}),e.invalidateQueries({queryKey:c}),e.invalidateQueries({queryKey:h})}}},C=r(25675),E=r.n(C),N=r(67294),S=r(83230),_=r(15229),q=r(80803),F=r(36074),T=r(72272),R=r(705),z=r(75593),D=r(2452),P=r(36227);let B={open:!1,hash:"",error:"",hasUserDenied:!1},H=e=>{let{tokenAmount:n,isConnected:r,onClick:i,token:a,icon:l,hideMax:s=!1}=e;return(0,t.jsxs)(o.k,{flexDir:"column",alignItems:"flex-end",children:[(0,t.jsxs)(o.k,{gap:2,alignItems:"center",children:[!s&&(0,t.jsx)(d.z,{bg:"backgroundDivider",h:"1.5rem",size:"sm",p:"4px 8px",_hover:{bg:"backgroundDivider"},onClick:()=>i(),w:"41px",fontWeight:"700",fontSize:"10px",borderRadius:"8px",children:"MAX"}),l&&(0,t.jsx)(E(),{width:24,height:24,alt:a,src:l}),(0,t.jsx)(o.k,{alignItems:"center",justify:"space-between",flex:1,gap:2,children:(0,t.jsx)(u.xu,{flex:1,children:a})})]}),r&&void 0!==n&&null!=n?(0,t.jsxs)(c.x,{fontWeight:"700",fontSize:"12px",mt:"6px",color:"textPrimary",children:["Balance: ",(0,S.uf)(Number(n),!1,4,!0)]}):null]})};var K=()=>{let e=(0,y.NL)(),{switchChain:n}=(0,T.o)(),{chain:r}=(0,v.Z)(),{swapConfig:i,isSwapSupported:a}=(0,g.Z)(),{isConnected:l}=(0,j.m)(),s=(0,R.t)(),{rsETH:w,wrsETH:C}=i.tokens,[K,L]=(0,N.useState)(w),[O,Z]=(0,N.useState)(""),[W,G]=(0,N.useState)(""),[U,A]=(0,N.useState)(!1),{writeContract:M}=(0,z.S)(),{openConnectModal:Q}=(0,D.We)(),{data:$,queryKey:X}=(0,k.K)({token:i.tokens.rsETH.address,address:i.tokens.wrsETH.address,query:{refetchInterval:1e4}}),V=$?Number((0,_.b)($.value,i.tokens.rsETH.decimals)):0,Y=w.symbol===K.symbol,[J,ee]=(0,N.useState)(B),{rsETHBalance:en,rsETHAllowance:er,wrsETHBalance:et,wrsETHAllowance:ei,invalidateCache:ea}=I(),el=(0,_.b)(Y?en:et,18),es=(0,_.b)(Y?et:en,18),eo=Number((0,_.b)(Y?er:ei,18))>Number(O),ed=Y?C:w,eu=a?r:Object.keys(f.lh)[0],ec=(0,N.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O.trim();if(!l)return"";let n="";return!+e||Number.isNaN(+e)?n="This field can't be blank or zero. Please provide valid input.":Number(e)>Number(el)?n="You can't wrap/unwrap more than available balance in your wallet.":!Y&&Number(e)>Number(V)&&(n="You can't unwrap more than available limit of ".concat(V," ").concat(K.symbol,".")),n},[O,l,el,Y,V,K.symbol]);(0,N.useEffect)(()=>{""!==O&&G(ec(O))},[ec,O,el]);let ep=()=>{Z((0,b.Md)(el,4))},eh=e=>{let n=e.trim().replace(/,/g,"");((0,b.hj)(n)||""===n)&&(-1===n.indexOf(".")?Z(n):n.length-(n.indexOf(".")+1)<=b.uO&&Z("."===n?"0.":n))},ex=Y?"Wrap":"Unwrap";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.k,{justifyContent:"center",p:{base:"0 16px",sm:"0 40px",md:0},children:(0,t.jsx)(o.k,{flexDir:"column",gap:"16px",mt:{base:"16px",xl:"0px"},w:{base:"100%",md:"648px"},children:(0,t.jsxs)(o.k,{borderRadius:"24px",bg:"backgroundCard",p:{base:"16px 16px 24px",md:"40px"},flexDir:"column",gap:"24px",w:"100%",children:[(0,t.jsxs)(o.k,{justifyContent:"space-between",alignItems:"flex-start",children:[(0,t.jsx)(c.x,{fontSize:{base:"18px",md:"32px"},lineHeight:{base:"20px",md:"38px"},fontWeight:"600",color:"textPrimary",children:ex}),(0,t.jsxs)(c.x,{p:"4px 6px",bg:"backgroundField",fontWeight:"400",fontSize:"10px",lineHeight:"15px",rounded:"6px",children:["1 ",K.symbol," = 1 ",ed.symbol]})]}),(0,t.jsxs)(u.xu,{mt:10,children:[(0,t.jsx)(c.x,{children:"From"}),(0,t.jsx)(x.Z,{inputRightElement:(0,t.jsx)(H,{isConnected:l,tokenAmount:+(0,b.Md)(el,4),onClick:ep,token:K.symbol,icon:"/assets/rseth.png"}),value:O,onChange:e=>eh(e),error:W}),W&&(0,t.jsxs)(o.k,{alignItems:"center",mt:"8px",children:[(0,t.jsx)(E(),{src:"/assets/transactions/error.svg",width:20,height:20,alt:"error-icon"}),(0,t.jsx)(c.x,{ml:"0.5rem",color:"error",fontSize:"12px",fontWeight:"400",children:W||"error"})]})]}),(0,t.jsx)(p.M,{children:(0,t.jsx)(F.E.div,{style:{cursor:"pointer",background:"#B6DFDF",padding:"8px",borderRadius:"50%"},onClick:()=>L(ed),animate:{rotate:Y?180:0},transition:{duration:.3},children:(0,t.jsx)(E(),{src:"/assets/sidebar/wrap.svg",alt:"swap",height:24,width:23,loading:"eager",style:{rotate:"90deg"}})})}),(0,t.jsxs)(u.xu,{children:[(0,t.jsx)(c.x,{children:"To"}),(0,t.jsx)(x.Z,{inputRightElement:(0,t.jsx)(H,{isConnected:l,tokenAmount:+(0,b.Md)(es,4),onClick:ep,token:ed.symbol,icon:"/assets/rseth.png",hideMax:!0}),value:O,disabled:!0})]}),!Y&&(0,t.jsxs)(o.k,{justify:"space-between",width:"100%",children:[(0,t.jsx)(c.x,{children:"Unwrap Limit"}),(0,t.jsx)(c.x,{children:+V.toFixed(4)})]}),(0,t.jsx)(d.z,{borderRadius:"12px",bg:"textPrimary",p:"16px 64px",h:"56px",mt:"12px",width:"100%",_hover:{bg:"textPrimary"},disabled:!!W||U,onClick:l?a?eo?()=>{if(!s)return;let n=ec(O);if(n){G(n);return}ee({open:!0,hash:"",error:"",hasUserDenied:!1}),A(!0);let r=K.symbol===w.symbol?"deposit":"withdraw";M({address:C.address,abi:C.abi,functionName:r,args:[w.address,(0,q.f)(O)]},{onError:e=>{var n,r,t;A(!1),ee({open:!0,hash:e.transactionHash,error:null!==(t=null!==(r=null!==(n=null==e?void 0:e.reason)&&void 0!==n?n:null==e?void 0:e.error)&&void 0!==r?r:null==e?void 0:e.message)&&void 0!==t?t:"",hasUserDenied:(0,S.f)(e)})},onSuccess:async n=>{ee({open:!0,hash:n,error:"",hasUserDenied:!1}),await s.waitForTransactionReceipt({hash:n}),ea(),A(!1),e.invalidateQueries({queryKey:X}),Z("")}})}:()=>{s&&(ee({open:!0,hash:"",error:"",hasUserDenied:!1}),A(!0),M({address:K.address,abi:K.abi,functionName:"approve",args:[C.address,(0,q.f)(b.Tz)]},{onError:e=>{var n,r,t;A(!1),ee({open:!0,hash:e.transactionHash,error:null!==(t=null!==(r=null!==(n=null==e?void 0:e.reason)&&void 0!==n?n:null==e?void 0:e.error)&&void 0!==r?r:null==e?void 0:e.message)&&void 0!==t?t:"",hasUserDenied:(0,S.f)(e)})},onSuccess:async n=>{ee({open:!0,hash:n,error:"",hasUserDenied:!1}),await s.waitForTransactionReceipt({hash:n}),ea(),e.invalidateQueries({queryKey:X}),A(!1)}}))}:()=>n({chainId:Number(eu)}):()=>{null==Q||Q(),(0,S.L9)(P.vL,{type:"wrap_page"})},children:(0,t.jsx)(c.x,{fontSize:"16px",lineHeight:"24px",fontWeight:"600",color:"backgroundCard",children:l?U?(0,t.jsx)(h.$,{size:"md",color:"primary"}):a?eo?ex:"Approve":"Switch Chain":"Connect Wallet"})})]})})}),(0,t.jsx)(m.Z,{isOpen:J.open,hash:J.hash,error:J.error,transactionType:"",isTxnProcessing:U,hasUserDenied:J.hasUserDenied,closeAlert:()=>ee(B),handleTxView:()=>{var e;let n="".concat(null===(e=r.blockExplorers)||void 0===e?void 0:e.default.url,"/tx/").concat(J.hash);window.open(n,"_blank")},chainId:r.id})]})},L=()=>((0,s.Z)(),(0,t.jsx)(a.Z,{Sidebar:(0,t.jsx)(l.Z,{display:{base:"none",xl:"block"},minH:"100vh"}),MobileSideBar:(0,t.jsx)(l.Z,{}),Header:(0,t.jsx)(i.Z,{}),children:(0,t.jsx)(K,{})}))},32735:function(e,n,r){"use strict";r.d(n,{x:function(){return c}});var t=r(82140),i=r(7174),a=r(16554),l=r(25432),s=r(85893),o=(0,i.m)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),d=(0,a.G)(function(e,n){var r,i;let{placement:a="left",...l}=e,d=(0,t.m)(),u=d.field,c={["left"===a?"insetStart":"insetEnd"]:"0",width:null!=(r=null==u?void 0:u.height)?r:null==u?void 0:u.h,height:null!=(i=null==u?void 0:u.height)?i:null==u?void 0:u.h,fontSize:null==u?void 0:u.fontSize,...d.element};return(0,s.jsx)(o,{ref:n,__css:c,...l})});d.id="InputElement",d.displayName="InputElement";var u=(0,a.G)(function(e,n){let{className:r,...t}=e,i=(0,l.cx)("chakra-input__left-element",r);return(0,s.jsx)(d,{ref:n,placement:"left",className:i,...t})});u.id="InputLeftElement",u.displayName="InputLeftElement";var c=(0,a.G)(function(e,n){let{className:r,...t}=e,i=(0,l.cx)("chakra-input__right-element",r);return(0,s.jsx)(d,{ref:n,placement:"right",className:i,...t})});c.id="InputRightElement",c.displayName="InputRightElement"},48948:function(e,n,r){"use strict";r.d(n,{I:function(){return f}});var t=r(55227),i=r(81103),a=r(16554),l=r(77030),s=r(33179),o=r(7174),d=r(25432),u=r(67294),c=r(85893),[p,h]=(0,t.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[x,m]=(0,t.k)({strict:!1,name:"FormControlContext"});(0,a.G)(function(e,n){let r=(0,l.jC)("Form",e),{getRootProps:t,htmlProps:a,...h}=function(e){let{id:n,isRequired:r,isInvalid:t,isDisabled:a,isReadOnly:l,...s}=e,o=(0,u.useId)(),c=n||`field-${o}`,p=`${c}-label`,h=`${c}-feedback`,x=`${c}-helptext`,[m,f]=(0,u.useState)(!1),[b,v]=(0,u.useState)(!1),[g,y]=(0,u.useState)(!1),j=(0,u.useCallback)((e={},n=null)=>({id:x,...e,ref:(0,i.lq)(n,e=>{e&&v(!0)})}),[x]),k=(0,u.useCallback)((e={},n=null)=>({...e,ref:n,"data-focus":(0,d.PB)(g),"data-disabled":(0,d.PB)(a),"data-invalid":(0,d.PB)(t),"data-readonly":(0,d.PB)(l),id:void 0!==e.id?e.id:p,htmlFor:void 0!==e.htmlFor?e.htmlFor:c}),[c,a,g,t,l,p]),w=(0,u.useCallback)((e={},n=null)=>({id:h,...e,ref:(0,i.lq)(n,e=>{e&&f(!0)}),"aria-live":"polite"}),[h]),I=(0,u.useCallback)((e={},n=null)=>({...e,...s,ref:n,role:"group","data-focus":(0,d.PB)(g),"data-disabled":(0,d.PB)(a),"data-invalid":(0,d.PB)(t),"data-readonly":(0,d.PB)(l)}),[s,a,g,t,l]);return{isRequired:!!r,isInvalid:!!t,isReadOnly:!!l,isDisabled:!!a,isFocused:!!g,onFocus:()=>y(!0),onBlur:()=>y(!1),hasFeedbackText:m,setHasFeedbackText:f,hasHelpText:b,setHasHelpText:v,id:c,labelId:p,feedbackId:h,helpTextId:x,htmlProps:s,getHelpTextProps:j,getErrorMessageProps:w,getRootProps:I,getLabelProps:k,getRequiredIndicatorProps:(0,u.useCallback)((e={},n=null)=>({...e,ref:n,role:"presentation","aria-hidden":!0,children:e.children||"*"}),[])}}((0,s.Lr)(e)),m=(0,d.cx)("chakra-form-control",e.className);return(0,c.jsx)(x,{value:h,children:(0,c.jsx)(p,{value:r,children:(0,c.jsx)(o.m.div,{...t({},n),className:m,__css:r.container})})})}).displayName="FormControl",(0,a.G)(function(e,n){let r=m(),t=h(),i=(0,d.cx)("chakra-form__helper-text",e.className);return(0,c.jsx)(o.m.div,{...null==r?void 0:r.getHelpTextProps(e,n),__css:t.helperText,className:i})}).displayName="FormHelperText";var f=(0,a.G)(function(e,n){let{htmlSize:r,...t}=e,i=(0,l.jC)("Input",t),a=function(e){let{isDisabled:n,isInvalid:r,isReadOnly:t,isRequired:i,...a}=function(e){var n,r,t;let i=m(),{id:a,disabled:l,readOnly:s,required:o,isRequired:u,isInvalid:c,isReadOnly:p,isDisabled:h,onFocus:x,onBlur:f,...b}=e,v=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==i?void 0:i.hasFeedbackText)&&(null==i?void 0:i.isInvalid)&&v.push(i.feedbackId),(null==i?void 0:i.hasHelpText)&&v.push(i.helpTextId),{...b,"aria-describedby":v.join(" ")||void 0,id:null!=a?a:null==i?void 0:i.id,isDisabled:null!=(n=null!=l?l:h)?n:null==i?void 0:i.isDisabled,isReadOnly:null!=(r=null!=s?s:p)?r:null==i?void 0:i.isReadOnly,isRequired:null!=(t=null!=o?o:u)?t:null==i?void 0:i.isRequired,isInvalid:null!=c?c:null==i?void 0:i.isInvalid,onFocus:(0,d.v0)(null==i?void 0:i.onFocus,x),onBlur:(0,d.v0)(null==i?void 0:i.onBlur,f)}}(e);return{...a,disabled:n,readOnly:t,required:i,"aria-invalid":(0,d.Qm)(r),"aria-required":(0,d.Qm)(i),"aria-readonly":(0,d.Qm)(t)}}((0,s.Lr)(t)),u=(0,d.cx)("chakra-input",e.className);return(0,c.jsx)(o.m.input,{size:r,...a,__css:i.field,ref:n,className:u})});f.displayName="Input",f.id="Input"},82140:function(e,n,r){"use strict";r.d(n,{B:function(){return m},m:function(){return x}});var t=r(55227),i=r(92495),a=r(16554),l=r(77030),s=r(33179),o=r(7174),d=r(25432),u=r(87052),c=r(67294),p=r(85893),[h,x]=(0,t.k)({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "}),m=(0,a.G)(function(e,n){let r=(0,l.jC)("Input",e),{children:t,className:a,...x}=(0,s.Lr)(e),m=(0,d.cx)("chakra-input__group",a),f={},b=(0,i.W)(t),v=r.field;b.forEach(e=>{var n,t;r&&(v&&"InputLeftElement"===e.type.id&&(f.paddingStart=null!=(n=v.height)?n:v.h),v&&"InputRightElement"===e.type.id&&(f.paddingEnd=null!=(t=v.height)?t:v.h),"InputRightAddon"===e.type.id&&(f.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(f.borderStartRadius=0))});let g=b.map(n=>{var r,t;let i=(0,u.o)({size:(null==(r=n.props)?void 0:r.size)||e.size,variant:(null==(t=n.props)?void 0:t.variant)||e.variant});return"Input"!==n.type.id?(0,c.cloneElement)(n,i):(0,c.cloneElement)(n,Object.assign(i,f,n.props))});return(0,p.jsx)(o.m.div,{className:m,ref:n,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...r.group},"data-group":!0,...x,children:(0,p.jsx)(h,{value:r,children:g})})});m.displayName="InputGroup"},92495:function(e,n,r){"use strict";r.d(n,{W:function(){return i}});var t=r(67294);function i(e){return t.Children.toArray(e).filter(e=>(0,t.isValidElement)(e))}},89810:function(e,n,r){"use strict";r.d(n,{u:function(){return o}});var t=r(37003),i=r(36100),a=r(82451),l=r(82002),s=r(37122);function o(e={}){let{abi:n,address:r,functionName:o,query:d={}}=e,u=(0,s.Z)(e),c=(0,l.x)(),p=function(e,n={}){return{async queryFn({queryKey:r}){let i=n.abi;if(!i)throw Error("abi is required");let{address:a,functionName:l,scopeKey:s,...o}=r[1];if(!a)throw Error("address is required");if(!l)throw Error("functionName is required");let d=o.args;return(0,t.L)(e,{abi:i,address:a,functionName:l,args:d,...o})},queryKey:function(e={}){let{abi:n,...r}=e;return["readContract",(0,i.O)(r)]}(n)}}(u,{...e,chainId:e.chainId??c}),h=!!(r&&n&&o&&(d.enabled??!0));return(0,a.aM)({...d,...p,enabled:h,structuralSharing:d.structuralSharing??a.if})}}},function(e){e.O(0,[1778,4617,1664,6407,3344,2888,9774,179],function(){return e(e.s=54719)}),_N_E=e.O()}]);
//# sourceMappingURL=wrap-2e98cd8fc485fda4.js.map